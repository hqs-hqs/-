# 配置文件说明

## 📁 配置文件结构

### 1. `application.properties` - 生产环境配置（MySQL）
- 用于生产环境
- 使用MySQL数据库
- 需要安装MySQL并创建数据库

### 2. `application-dev.properties` - 开发环境配置（H2）
- 用于开发/测试环境
- 使用H2内存数据库
- 无需安装任何数据库

## 🔄 如何切换配置

### 开发/测试时（使用H2）

在IDEA运行配置中：
1. 右键 `GameApplication.java`
2. 选择 `Modify Run Configuration...`
3. 在 `Active profiles` 填入：`dev`
4. 点击 `OK`
5. 运行项目

**效果**：自动使用 `application-dev.properties`，使用H2数据库

### 生产环境（使用MySQL）

**方法1：不设置profile**
- 不设置 `Active profiles`（留空）
- 直接运行项目

**方法2：明确指定**
- 在 `Active profiles` 填入：`prod`（如果有prod配置）
- 或者不设置，默认使用 `application.properties`

**效果**：使用 `application.properties`，连接MySQL数据库

## ⚙️ MySQL配置步骤

当需要使用MySQL时：

1. **安装MySQL**（如果还没安装）

2. **创建数据库**：
```sql
CREATE DATABASE game_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

3. **修改 `application.properties`**：
```properties
spring.datasource.username=root
spring.datasource.password=你的MySQL密码
```

4. **取消注释MySQL驱动**（pom.xml中已取消注释）

5. **运行项目**（不设置dev profile）

## 📝 当前配置状态

- ✅ `application.properties` - MySQL配置（生产环境）
- ✅ `application-dev.properties` - H2配置（开发环境）
- ✅ MySQL驱动已添加到pom.xml

## 💡 推荐工作流程

1. **开发阶段**：
   - 设置 `Active profiles = dev`
   - 使用H2，快速开发测试

2. **准备上线**：
   - 配置好MySQL
   - 取消设置profile（或设置为prod）
   - 使用MySQL，数据持久化

## 🎯 快速切换

- **开发**：`Active profiles = dev` → 使用H2
- **生产**：`Active profiles = 留空` → 使用MySQL

